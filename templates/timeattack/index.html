{% extends "layout/base.html" %}
<!-- 레이아웃 -->
{% block body %}
<!-- 네비게이션바 -->
{% include 'common/navbar.html' %}
<main class="container mx-auto p-5">
  <h1 class="text-center text-3xl font-bold logo text-markcraft">타임어택</h1>
  <p id="currentTime" class="text-6xl text-center mt-10">00:00:00</p>
  <div class="text-center text-gray-400 mb-10">
    <p class="">현재 최고 기록</p>
    <span id="bestTime" class="">{{ formattedBestTime }}</span>
  </div>
  <div class="text-center">
    <progress id="progress-bar" class="progress progress-success w-56"></progress>
    <p id="progress-text" class="text-gray-400"></p>
  </div>
  <div class="flex flex-wrap">
    <div class="w-full lg:w-1/2 px-20">
      <p class="text-center fond-bold text-xl my-5">답안지</p>
      <!-- 사용자 입력 ID 설정 -->
      <textarea id="userInput" class="w-full textarea textarea-success" rows="5"></textarea>
    </div>
    <div class="w-full lg:w-1/2 px-20">
      <p class="text-center fond-bold text-xl my-5">문제</p>
      <!-- 사용자 미리보기 ID 설정 -->
      <!-- <div id="userOutput" class="border-2 p-5 border-success rounded-xl"></div> -->
      <!-- 정답 미리보기 추가 -->
      <!-- <h3>정답 미리보기:</h3> -->
      <div id="correctOutput" class="border-2 p-5 border-success rounded-xl" style="display: none"></div>
    </div>
  </div>
  <div class="text-center">
    <button class="btn btn-success text-white btn-lg my-10">시작</button>
  </div>
  <div id="particles-js" style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:9; display: none;">
  </div>

  <!-- 모달 마크업 -->
  <div id="completionModal" class="fixed z-10 inset-0 overflow-y-auto hidden">
    <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
      <div class="fixed inset-0 transition-opacity">
        <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
      </div>
      <span class="hidden sm:inline-block sm:align-middle sm:h-screen"></span>&#8203;
      <div
        class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:align-middle sm:my-8 sm:w-full sm:max-w-lg">
        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
          <div class="sm:flex sm:items-start">
            <div class="mt-3 text-center sm:mt-0 sm:text-left">
              <h3 class="text-lg leading-6 font-medium text-gray-900">
                타임어택 완료!
              </h3>
              <div class="mt-2">
                <p id="completionTime" class="text-sm leading-5 text-gray-500">
                  여기에 걸린 시간이 표시됩니다.
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
          <button onclick="closeModal()" class="btn btn-primary">확인</button>
        </div>
      </div>
    </div>
  </div>
</main>

<script>
  timeAttack();
</script>
{% endblock %}